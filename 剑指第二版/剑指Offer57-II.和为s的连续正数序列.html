<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>剑指 Offer 57 - II. 和为s的连续正数序列</title>
  </head>
  <body>
    <script>
      // https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/

      // 输入一个正整数 target ，输出所有和为 target 的连续正整数序列（至少含有两个数）。
      // 序列内的数字由小到大排列，不同序列按照首个数字从小到大排列。
      // 提示：
      // 1 <= target <= 10^5

      /**
       * @param {number} target
       * @return {number[][]}
       */
      var findContinuousSequence = function (target) {};

      // --- answer-1 ---

      // 滑动窗口
      // 时间复杂度：O(n) 空间复杂度O(1) 除了答案数组
      var findContinuousSequence = function (target) {
        let left = 1;
        let right = 2;
        let sum = 3;
        let res = [];

        while (left < right) {
          if (sum === target) {
            let arr = [];
            for (let i = left; i <= right; i++) {
              arr[i - left] = i;
            }
            res.push(arr);
            sum = sum - left;
            left++;
          } else if (sum > target) {
            sum = sum - left;
            left++;
          } else {
            right++;
            sum = sum + right;
          }
        }
        return res;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var target = 9;
      var result = [
        [2, 3, 4],
        [4, 5]
      ];

      // var target = 15;
      // var result = [
      //   [1, 2, 3, 4, 5],
      //   [4, 5, 6],
      //   [7, 8]
      // ];

      // var target = 10;
      // var result = [[1, 2, 3, 4]];

      var target = 882;
      var result = [
        [
          7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34,
          35, 36, 37, 38, 39, 40, 41, 42
        ],
        [
          18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45
        ],
        [32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52],
        [68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79],
        [94, 95, 96, 97, 98, 99, 100, 101, 102],
        [123, 124, 125, 126, 127, 128, 129],
        [219, 220, 221, 222],
        [293, 294, 295]
      ];

      console.log('target = ', target);
      console.log('result = ', result);
      console.log('findContinuousSequence = ', findContinuousSequence(target));
    </script>
  </body>
</html>
