<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2644. 找出可整除性得分最大的整数</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/find-the-maximum-divisibility-score/description/

      // 给你两个下标从 0 开始的整数数组 nums 和 divisors 。
      // divisors[i] 的 可整除性得分 等于满足 nums[j] 能被 divisors[i] 整除的下标 j 的数量。
      // 返回 可整除性得分 最大的整数 divisors[i] 。如果有多个整数具有最大得分，则返回数值最小的一个。
      //
      // 提示：
      // 1 <= nums.length, divisors.length <= 1000
      // 1 <= nums[i], divisors[i] <= 109

      /**
       * @param {number[]} nums
       * @param {number[]} divisors
       * @return {number}
       */
      var maxDivScore = function (nums, divisors) {};

      // --- answer-1 ---

      // 按题意循环
      var maxDivScore = function (nums = [], divisors = []) {
        const divMap = new Map();
        const getDivCount = (d) => {
          if (divMap.has(d)) {
            return divMap.get(d);
          } else {
            let count = 0;
            for (let n of nums) {
              if (n % d === 0) {
                count++;
              }
            }
            divMap.set(d, count);
            return count;
          }
        };
        let cnt = 0;
        let res = Number.MAX_SAFE_INTEGER;
        for (const d of divisors) {
          const count = getDivCount(d);
          if (count === cnt) {
            res = Math.min(res, d);
          } else if (count > cnt) {
            cnt = count;
            res = d;
          }
        }
        return res;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var nums = [4, 7, 9, 3, 9],
        divisors = [5, 2, 3];
      var result = 3;
      // 解释：divisors 中每个元素的可整除性得分为：

      var nums = [20, 14, 21, 10],
        divisors = [5, 7, 5];
      var result = 5;
      // 解释：divisors 中每个元素的可整除性得分为：

      var nums = [12],
        divisors = [10, 16];
      var result = 10;
      // 解释：divisors 中每个元素的可整除性得分为：

      console.log('nums = ', nums);
      console.log('divisors = ', divisors);
      console.log('result = ', result);
      console.log('maxDivScore = ', maxDivScore(nums, divisors));
    </script>
  </body>
</html>
