<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2848. 与车相交的点</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/points-that-intersect-with-cars/

      // 给你一个下标从 0 开始的二维整数数组 nums 表示汽车停放在数轴上的坐标。对于任意下标 i，nums[i] = [starti, endi] ，其中 starti 是第 i 辆车的起点，endi 是第 i 辆车的终点。
      // 返回数轴上被车 任意部分 覆盖的整数点的数目。
      //
      // 提示：
      // 1 <= nums.length <= 100
      // nums[i].length == 2
      // 1 <= starti <= endi <= 100

      /**
       * @param {number[][]} nums
       * @return {number}
       */
      var numberOfPoints = function (nums) {};

      // --- answer-1 ---

      var numberOfPoints = function (nums = [[]]) {
        let min = 1000;
        let max = 0;
        const count = [];
        for (const [start, end] of nums) {
          min = Math.min(min, start);
          max = Math.max(max, end);
          for (let i = start; i <= end; i++) {
            count[i] = true;
          }
        }
        let res = 0;
        for (let i = min; i <= max; i++) {
          if (count[i]) {
            res++;
          }
        }

        return res;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // 差分数组
      var numberOfPoints = function (nums = [[]]) {
        const count = new Array(102).fill(0);

        for (const [start, end] of nums) {
          count[start]++;
          count[end + 1]--;
        }
        console.log('count = ', count);
        let res = 0;
        let s = 0;
        for (const n of count) {
          s += n;
          console.log('', s, +(s > 0));
          res += s > 0;
        }
        return res;
      };

      // --- answer-2 ---

      var nums = [
        [3, 6],
        [1, 5],
        [4, 7]
      ];
      var result = 7;
      // 解释：从 1 到 7 的所有点都至少与一辆车相交，因此答案为 7 。

      // var nums = [[1,3],[5,8]];
      // var result = 7;
      // 解释：1、2、3、5、6、7、8 共计 7 个点满足至少与一辆车相交，因此答案为 7 。

      console.log('nums = ', nums);
      console.log('result = ', result);
      console.log('numberOfPoints = ', numberOfPoints(nums));
    </script>
  </body>
</html>
