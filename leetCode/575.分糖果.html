<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>575. 分糖果</title>
  </head>
  <body>
    <script>
      // https://leetcode-cn.com/problems/distribute-candies/

      // Alice 有 n 枚糖，其中第 i 枚糖的类型为 candyType[i] 。Alice 注意到她的体重正在增长，所以前去拜访了一位医生。
      // 医生建议 Alice 要少摄入糖分，只吃掉她所有糖的 n / 2 即可（n 是一个偶数）。Alice 非常喜欢这些糖，她想要在遵循医生建议的情况下，尽可能吃到最多不同种类的糖。
      // 给你一个长度为 n 的整数数组 candyType ，返回： Alice 在仅吃掉 n / 2 枚糖的情况下，可以吃到糖的 最多 种类数。
      // 提示：
      // n == candyType.length
      // 2 <= n <= 104
      // n 是一个偶数
      // -105 <= candyType[i] <= 105

      /**
       * @param {number[]} candyType
       * @return {number}
       */
      var distributeCandies = function (candyType) {};

      // --- answer-1 ---

      // 排查后的长度和length的一半取小
      var distributeCandies = function (candyType = []) {
        return Math.min(
          candyType.length >> 1,
          Object.keys(
            candyType.reduce((pre, cur) => {
              pre[cur] = 2;
              return pre;
            }, {})
          ).length
        );
      };

      // --- answer-1 ---

      // --- answer-2 ---

      var distributeCandies = function (candyType = []) {
        return Math.min(candyType.length >> 1, new Set(candyType).size);
      };

      // --- answer-2 ---

      var candyType = [1, 1, 2, 2, 3, 3];
      var result = 3;
      // 解释：Alice 只能吃 6 / 2 = 3 枚糖，由于只有 3 种糖，她可以每种吃一枚。

      var candyType = [1, 1, 2, 3];
      var result = 2;
      // 解释：Alice 只能吃 4 / 2 = 2 枚糖，不管她选择吃的种类是 [1,2]、[1,3] 还是 [2,3]，她只能吃到两种不同类的糖。

      var candyType = [6, 6, 6, 6];
      var result = 1;
      // 解释：Alice 只能吃 4 / 2 = 2 枚糖，尽管她能吃 2 枚，但只能吃到 1 种糖。

      console.log('candyType = ', candyType);
      console.log('result = ', result);
      console.log('distributeCandies = ', distributeCandies(candyType));
    </script>
  </body>
</html>
