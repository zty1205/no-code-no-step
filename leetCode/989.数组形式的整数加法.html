<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>989. 数组形式的整数加法</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/add-to-array-form-of-integer/

      // 整数的 数组形式  num 是按照从左到右的顺序表示其数字的数组。
      // 提示：
      // 例如，对于 num = 1321 ，数组形式是 [1,3,2,1] 。
      // 给定 num ，整数的 数组形式 ，和整数 k ，返回 整数 num + k 的 数组形式 。
      // 提示：
      // 1 <= num.length <= 104
      // 0 <= num[i] <= 9
      // num 不包含任何前导零，除了零本身
      // 1 <= k <= 104

      /**
       * @param {number[]} num
       * @param {number} k
       * @return {number[]}
       */
      var addToArrayForm = function (num, k) {};

      // --- answer-1 ---

      // 模拟加法
      var addToArrayForm = function (num = [], k) {
        let add = 0; // 进位
        let i = num.length - 1;
        while (k || i >= 0) {
          let n = k % 10;
          k = (k - n) / 10;
          let sum = n + (num[i] || 0) + add;
          let bit = sum % 10;
          add = (sum - bit) / 10;
          if (i < 0) {
            num.unshift(bit);
          } else {
            num[i] = bit;
          }
          i--;
        }
        if (add) {
          if (i < 0) {
            num.unshift(add);
          } else {
            num[i] += add;
          }
        }
        return num;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // 模拟加法
      var addToArrayForm = function (num = [], k) {
        const res = [];
        for (let i = num.length - 1; i >= 0; --i) {
          let sum = num[i] + (k % 10);
          k = Math.floor(k / 10);
          if (sum >= 10) {
            k++;
            sum -= 10;
          }
          res.push(sum);
        }
        for (; k > 0; k = Math.floor(k / 10)) {
          res.push(k % 10);
        }
        res.reverse();
        return res;
      };

      // --- answer-2 ---

      var num = [1, 2, 0, 0],
        k = 34;
      var result = [1, 2, 3, 4];
      // 解释：1200 + 34 = 1234

      var num = [2, 7, 4],
        k = 181;
      var result = [4, 5, 5];
      // 解释：274 + 181 = 455

      var num = [2, 1, 5],
        k = 806;
      var result = [1, 0, 2, 1];
      // 解释：215 + 806 = 1021

      // var num = [1, 2, 1, 5],
      //   k = 806;
      // var result = [2, 0, 2, 1];

      // var num = [9, 9, 9, 9, 9, 9, 9, 9, 9, 9],
      //   k = 1;
      // var result = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

      console.log('num = ', num);
      console.log('k = ', k);
      console.log('result = ', result);
      console.log('addToArrayForm = ', addToArrayForm(num, k));
    </script>
  </body>
</html>
