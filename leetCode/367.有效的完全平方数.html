<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>367. 有效的完全平方数</title>
  </head>
  <body>
    <script>
      // https://leetcode-cn.com/problems/valid-perfect-square/

      // 给定一个 正整数 num ，编写一个函数，如果 num 是一个完全平方数，则返回 true ，否则返回 false 。
      // 进阶：不要 使用任何内置的库函数，如  sqrt 。
      // 提示：
      // 1 <= num <= 2^31 - 1

      /**
       * @param {number} num
       * @return {boolean}
       */
      var isPerfectSquare = function (num) {
        if (num === 1) return true;
        let mid = num >> 1;

        function sqrt(num, n) {
          if (n === 1) return false;
          if (num === n * n) return true;
          return sqrt(num, n - 1);
        }
        return sqrt(num, mid);
      };
      // 爆栈

      // 那就迭代 二分
      var isPerfectSquare = function (num) {
        let left = 0,
          right = num;
        while (left <= right) {
          const mid = Math.floor((right - left) / 2) + left;
          const square = mid * mid;
          if (square < num) {
            left = mid + 1;
          } else if (square > num) {
            right = mid - 1;
          } else {
            return true;
          }
        }
        return false;
      };

      // --- answer-1 ---

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var num = 16;
      var result = true;

      var num = 14;
      var result = false;

      console.log('num = ', num);
      console.log('result = ', result);
      console.log('isPerfectSquare = ', isPerfectSquare(num));
    </script>
  </body>
</html>
