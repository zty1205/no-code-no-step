<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2908. 元素和最小的山形三元组 I</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/minimum-sum-of-mountain-triplets-i/description/

      // 给你一个下标从 0 开始的整数数组 nums 。
      // 如果下标三元组 (i, j, k) 满足下述全部条件，则认为它是一个 山形三元组 ：
      //
      // 提示：
      // i < j < k
      // nums[i] < nums[j] 且 nums[k] < nums[j]
      // 请你找出 nums 中 元素和最小 的山形三元组，并返回其 元素和 。如果不存在满足条件的三元组，返回 -1 。
      //
      // 提示：
      // 3 <= nums.length <= 50
      // 1 <= nums[i] <= 50

      /**
       * @param {number[]} nums
       * @return {number}
       */
      var minimumSum = function (nums) {};

      // --- answer-1 ---

      var minimumSum = function (nums = []) {
        // 前序最小值数组和后序最小值数组
        const length = nums.length;
        const preMin = new Array(length).fill(0);
        const postMin = new Array(length).fill(0);

        preMin[0] = nums[0];
        for (let i = 1; i < length; i++) {
          preMin[i] = Math.min(preMin[i - 1], nums[i]);
        }

        postMin[length - 1] = nums[length - 1];
        for (let i = length - 2; i >= 0; i--) {
          postMin[i] = Math.min(postMin[i + 1], nums[i]);
        }

        let min = Infinity;
        for (let i = 1; i < length; i++) {
          if (nums[i] > preMin[i] && nums[i] > postMin[i]) {
            min = Math.min(min, nums[i] + preMin[i] + postMin[i]);
          }
        }
        return min === Infinity ? -1 : min;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var nums = [8, 6, 1, 5, 3];
      var result = 9;
      // 解释：三元组 (2, 3, 4) 是一个元素和等于 9 的山形三元组，因为：

      var nums = [5, 4, 8, 7, 10, 2];
      var result = 13;
      // 解释：三元组 (1, 3, 5) 是一个元素和等于 13 的山形三元组，因为：

      var nums = [6, 5, 4, 3, 4, 5];
      var result = -1;
      // 解释：可以证明 nums 中不存在山形三元组。

      console.log('nums = ', nums);
      console.log('result = ', result);
      console.log('minimumSum = ', minimumSum(nums));
    </script>
  </body>
</html>
