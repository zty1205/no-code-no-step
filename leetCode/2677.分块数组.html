<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2677. 分块数组</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/chunk-array/description/

      // 给定一个数组 arr 和一个块大小 size ，返回一个 分块 的数组。分块 的数组包含了 arr 中的原始元素，但是每个子数组的长度都是 size 。如果 arr.length 不能被 size 整除，那么最后一个子数组的长度可能小于 size 。
      // 你可以假设该数组是 JSON.parse 的输出结果。换句话说，它是有效的JSON。
      // 请你在不使用 lodash 的函数 _.chunk 的情况下解决这个问题。
      //
      // 提示：
      // arr 是一个有效的 JSON 数组
      // 2 <= JSON.stringify(arr).length <= 105
      // 1 <= size <= arr.length + 1

      /**
       * @param {Array} arr
       * @param {number} size
       * @return {Array}
       */
      var chunk = function (arr, size) {};

      // --- answer-1 ---

      var chunk = function (arr = [], size = 1) {
        const res = [];
        const length = arr.length;
        let i = 0;
        while (i < length) {
          res.push(arr.slice(i, i + size));
          i += size;
        }
        return res;
      };

      // --- answer-1 ---

      // --- answer-2 ---

      var chunk = function (arr, size) {
        return Array.from({ length: Math.ceil(arr.length / size) }, function (_, index) {
          return arr.slice(index * size, index * size + size);
        });
      };

      // --- answer-2 ---

      var arr = [1, 2, 3, 4, 5],
        size = 1;
      var result = [[1], [2], [3], [4], [5]];
      // 解释：数组 arr 被分割成了每个只有一个元素的子数组。

      var arr = [1, 9, 6, 3, 2],
        size = 3;
      var result = [
        [1, 9, 6],
        [3, 2]
      ];
      // 解释：数组 arr 被分割成了每个有三个元素的子数组。然而，第二个子数组只有两个元素。

      var arr = [8, 5, 3, 2, 6],
        size = 6;
      var result = [[8, 5, 3, 2, 6]];
      // 解释：size 大于 arr.length ，因此所有元素都在第一个子数组中。

      var arr = [],
        size = 1;
      var result = [];
      // 解释：没有元素需要分块，因此返回一个空数组。

      console.log('arr = ', arr);
      console.log('size = ', size);
      console.log('result = ', result);
      console.log('chunk = ', chunk(arr, size));
    </script>
  </body>
</html>
