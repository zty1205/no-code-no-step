<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>748. 最短补全词</title>
  </head>
  <body>
    <script>
      // https://leetcode.cn/problems/shortest-completing-word/

      // 给你一个字符串 licensePlate 和一个字符串数组 words ，请你找出 words 中的 最短补全词 。
      // 补全词 是一个包含 licensePlate 中所有字母的单词。忽略 licensePlate 中的 数字和空格 。不区分大小写。如果某个字母在 licensePlate 中出现不止一次，那么该字母在补全词中的出现次数应当一致或者更多。
      // 请返回 words 中的 最短补全词 。题目数据保证一定存在一个最短补全词。当有多个单词都符合最短补全词的匹配条件时取 words 中 第一个 出现的那个。
      // 提示：
      // 1 <= licensePlate.length <= 7
      // licensePlate 由数字、大小写字母或空格 ' ' 组成
      // 1 <= words.length <= 1000
      // 1 <= words[i].length <= 15
      // words[i] 由小写英文字母组成

      /**
       * @param {string} licensePlate
       * @param {string[]} words
       * @return {string}
       */
      var shortestCompletingWord = function (licensePlate, words) {};

      // --- answer-1 ---

      // 1. words 稳定排序 那么只需匹配到第一个就是最短的
      // 2. 对比两个字符串的统计对象
      var shortestCompletingWord = function (licensePlate = '', words = []) {
        words.sort((a, b) => a.length - b.length);
        function hashString(str = '') {
          let map = {};
          for (let c of str) {
            if (/[a-zA-Z]/.test(c)) {
              map[c.toLocaleLowerCase()] = (map[c.toLocaleLowerCase()] || 0) + 1;
            }
          }
          return map;
        }
        function valid(origin = {}, target = {}) {
          for (let k in origin) {
            if (!(k in target)) return false;
            if (origin[k] > target[k]) return false;
          }
          return true;
        }
        let lMap = hashString(licensePlate);
        for (let w of words) {
          if (valid(lMap, hashString(w))) {
            return w;
          }
        }
      };

      // --- answer-1 ---

      // --- answer-2 ---

      // --- answer-2 ---

      var licensePlate = '1s3 PSt',
        words = ['step', 'steps', 'stripe', 'stepple'];
      var result = 'steps';
      // 解释：最短补全词应该包括 "s"、"p"、"s"（忽略大小写） 以及 "t"。

      // var licensePlate = '1s3 456',
      //   words = ['looks', 'pest', 'stew', 'show'];
      // var result = 'pest';
      // 解释：licensePlate 只包含字母 "s" 。所有的单词都包含字母 "s" ，其中 "pest"、"stew"、和 "show" 三者最短。答案是 "pest" ，因为它是三个单词中在 words 里最靠前的那个。

      var licensePlate = 'Ah71752',
        words = ['suggest', 'letter', 'of', 'husband', 'easy', 'education', 'drug', 'prevent', 'writer', 'old'];
      var result = 'husband';

      console.log('licensePlate = ', licensePlate);
      console.log('words = ', words);
      console.log('result = ', result);
      console.log('shortestCompletingWord = ', shortestCompletingWord(licensePlate, words));
    </script>
  </body>
</html>
