<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
  <script>
    // 把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。
    // 输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。
    // NOTE：给出的所有元素都大于0，若数组大小为0，请返回0。

    function minNumberInRotateArray1(rotateArray) {
      // write code here
      return Math.min.apply(Math, rotateArray);
    }

    function minNumberInRotateArray(rotateArray) {
      // write code here
      let result = 0;
      let i = 0;
      let j = rotateArray.length - 1;
      let mid;
      while (i < j) {
        mid = Math.floor((i + j) / 2);
        if (rotateArray[j] < rotateArray[mid]) {
          i = mid + 1;
        } else if (rotateArray[j] == rotateArray[mid]) {
          j--;
        } else {
          j = mid;
        }
      }
      return rotateArray[j];
    }

    // 二分比小   没通过。。。。。。
    function minNumberInRotateArray(rotateArray) {
      if (rotateArray.length === 0) {
        return 0;
      }
      let start = 0;
      let end = rotateArray.length - 1;
      if (rotateArray[start] < rotateArray[end]) {
        return rotateArray[start];
      }

      while (start < end) {
        if (rotateArray[start] <= rotateArray[end]) {
          return rotateArray[start];
        }
        let mid = start + ((end - start) >> 1);
        if (rotateArray[mid] > rotateArray[end]) {
          // 情况1
          start = mid + 1;
        } else if (rotateArray[mid] < rotateArray[end]) {
          //情况2
          end = mid;
        } else {
          // 情况3
          --end;
        }
      }
      return rotateArray[start];
    }

    const input = []; // [3, 4, 5, 1, 2];
    for (let i = 100; i < 200; i++) {
      input.push(i);
    }
    let i = 0;
    let count = 100 - 1;
    while (i++ < count) {
      input.push(i);
    }
    const res = 1;
    console.log(`input: ${input} , res: ${res} = `, minNumberInRotateArray(input));
  </script>
</html>
